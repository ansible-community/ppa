---
name: ansible

on:
  workflow_dispatch:
    inputs:
      DEB_ARCH:
        default: amd64
        required: true
        type: string
      DEB_DIST:
        required: true
        type: string
      DEB_RELEASE:
        default: 1ppa
        required: true
        type: string
      DEB_VERSION:
        required: true
        type: string
      LAUNCHPAD_PROJECT:
        required: true
        type: string
      LAUNCHPAD_PPA:
        required: true
        type: string

jobs:
  call_build_workflow:
    uses: ./.github/workflows/build.yml
    with:
      DEB_ARCH: ${{ github.event.inputs.DEB_ARCH }}
      DEB_DIST: ${{ github.event.inputs.DEB_DIST }}
      DEB_NAME: ${{ github.workflow }}
      DEB_RELEASE: ${{ github.event.inputs.DEB_RELEASE }}
      DEB_VERSION: ${{ github.event.inputs.DEB_VERSION }}
      LAUNCHPAD_PROJECT: ${{ github.event.inputs.LAUNCHPAD_PROJECT }}
      LAUNCHPAD_PPA: ${{ github.event.inputs.LAUNCHPAD_PPA }}
    secrets: inherit
